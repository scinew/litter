<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Home - Spill Feed" />
  <title>Spill Feed</title>

  <!-- Tailwind Configuration -->
  <script src="./assets/js/tailwind-config.js"></script>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Global Styles -->
  <link rel="stylesheet" href="./assets/css/global.css" />

  <!-- Preload fonts -->
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" as="style" />
</head>

<body class="dark">
  <!-- Layout Header & Navigation -->
  <header class="sticky top-0 z-50 bg-neutral-950/95 backdrop-blur-sm border-b border-neutral-800 fade-slide-in">
    <div class="container mx-auto px-4 py-4">
      <div class="flex items-center justify-between">
        <!-- Brand -->
        <div class="flex items-center gap-2">
          <div class="w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-bubble flex items-center justify-center">
            <span class="text-white font-bold text-sm">S</span>
          </div>
          <span class="text-xl font-bold text-neutral-100 hidden sm:inline">Spill</span>
        </div>

        <!-- Primary Navigation -->
        <nav class="flex items-center gap-1 md:gap-4">
          <a href="./index.html" class="nav-item px-3 py-2 rounded-pill bg-neutral-800 text-neutral-100 font-semibold transition-colors duration-200 text-sm md:text-base">
            Home
          </a>
          <a href="./alerts.html" class="nav-item px-3 py-2 rounded-pill text-neutral-400 hover:text-neutral-200 transition-colors duration-200 text-sm md:text-base">
            Alerts
          </a>
          <a href="./profile.html" class="nav-item px-3 py-2 rounded-pill text-neutral-400 hover:text-neutral-200 transition-colors duration-200 text-sm md:text-base">
            Profile
          </a>
        </nav>

        <!-- Action Buttons -->
        <div class="flex items-center gap-2">
          <button type="button" class="px-3 py-2 md:px-4 md:py-2 bg-neutral-800 hover:bg-neutral-700 text-neutral-200 rounded-pill text-sm transition-colors duration-200 flex items-center gap-1.5" data-action="toggle-theme" aria-label="Toggle theme">
            <span data-theme-icon>üåô</span>
            <span class="hidden md:inline" data-theme-label>Dark</span>
          </button>
          <button class="px-3 py-2 md:px-4 md:py-2 bg-neutral-800 hover:bg-neutral-700 text-neutral-200 rounded-pill text-sm transition-colors duration-200">
            Settings
          </button>
          <button class="px-3 py-2 md:px-4 md:py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-pill text-sm font-medium transition-colors duration-200">
            Sign In
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Layout Grid -->
  <div class="bg-neutral-950 min-h-[calc(100vh-73px)]">
    <div class="container mx-auto px-4 lg:px-6 py-6 lg:py-8">
      <div class="flex flex-col gap-6 lg:grid lg:grid-cols-[260px_minmax(0,1fr)_300px] lg:gap-8" data-layout>
        <!-- Main Feed -->
        <main class="order-1 space-y-6" data-column="feed">
          <!-- Composer Bubble -->
          <section class="bubble-surface p-4 md:p-6 space-y-4" data-composer>
            <div class="flex flex-col gap-4 xl:flex-row xl:items-center">
              <div class="flex items-center gap-3 xl:flex-1">
                <img src="https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?auto=format&fit=crop&w=160&h=160&q=80" alt="User avatar" class="w-12 h-12 rounded-full object-cover border border-neutral-800 shadow-inner" />
                <button type="button" class="w-full text-left px-4 py-3 rounded-bubble border border-neutral-800/70 bg-neutral-900/80 text-neutral-500 hover:text-neutral-200 hover:bg-neutral-900 transition-all duration-200" data-action="open-composer">
                  To Spill something new?
                </button>
              </div>
              <div class="flex items-center justify-between gap-3 xl:w-auto">
                <div class="flex flex-wrap gap-2" data-quick-actions>
                  <button type="button" class="px-3 py-1.5 rounded-pill border border-neutral-800 text-xs font-medium text-neutral-400 hover:text-neutral-100 hover:bg-neutral-900 transition" data-quick-action="vibe">
                    üéß Drop a vibe
                  </button>
                  <button type="button" class="px-3 py-1.5 rounded-pill border border-neutral-800 text-xs font-medium text-neutral-400 hover:text-neutral-100 hover:bg-neutral-900 transition" data-quick-action="media">
                    üì∑ Add media
                  </button>
                  <button type="button" class="px-3 py-1.5 rounded-pill border border-neutral-800 text-xs font-medium text-neutral-400 hover:text-neutral-100 hover:bg-neutral-900 transition" data-quick-action="link">
                    üîó Share link
                  </button>
                </div>
                <button type="button" class="px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white font-semibold rounded-pill transition" data-action="submit-quick-spill">
                  Spill it
                </button>
              </div>
            </div>
            <div class="flex items-center gap-3 text-xs text-neutral-500">
              <span class="px-2 py-1 rounded-pill bg-neutral-900 border border-neutral-800" data-status="composer-hint">Draft saved moments ago</span>
              <span class="hidden sm:inline">Tap quick actions or open the full composer for more controls.</span>
            </div>
          </section>

          <!-- Lit Feed -->
          <div class="space-y-4" data-feed></div>
        </main>

        <!-- Left Rail Navigation -->
        <aside class="order-2 space-y-4" data-column="left-rail">
          <section class="bubble-surface p-4 space-y-4">
            <div class="flex items-center justify-between">
              <h2 class="text-xs font-semibold uppercase tracking-wider text-neutral-400">Navigate</h2>
              <span class="text-[10px] uppercase tracking-[0.2em] text-blue-300">core</span>
            </div>
            <nav class="space-y-1" aria-label="Primary">
              <a href="#" class="flex items-center gap-3 px-3 py-2 rounded-bubble text-sm font-medium text-neutral-200 bg-neutral-900/60 border border-neutral-800/80 hover:bg-neutral-900 transition" data-nav="for-you">
                <span class="text-lg">üåä</span>
                For You
              </a>
              <a href="#" class="flex items-center gap-3 px-3 py-2 rounded-bubble text-sm font-medium text-neutral-400 border border-transparent hover:border-neutral-800 hover:text-neutral-200 hover:bg-neutral-900/60 transition" data-nav="following">
                <span class="text-lg">üë£</span>
                Following
              </a>
              <a href="#" class="flex items-center gap-3 px-3 py-2 rounded-bubble text-sm font-medium text-neutral-400 border border-transparent hover:border-neutral-800 hover:text-neutral-200 hover:bg-neutral-900/60 transition" data-nav="discover">
                <span class="text-lg">üîç</span>
                Discover
              </a>
              <a href="#" class="flex items-center gap-3 px-3 py-2 rounded-bubble text-sm font-medium text-neutral-400 border border-transparent hover:border-neutral-800 hover:text-neutral-200 hover:bg-neutral-900/60 transition" data-nav="bookmarks">
                <span class="text-lg">üîñ</span>
                Bookmarks
              </a>
              <a href="#" class="flex items-center gap-3 px-3 py-2 rounded-bubble text-sm font-medium text-neutral-400 border border-transparent hover:border-neutral-800 hover:text-neutral-200 hover:bg-neutral-900/60 transition" data-nav="lists">
                <span class="text-lg">üóÇÔ∏è</span>
                Lists
              </a>
            </nav>
          </section>
          <section class="bubble-surface p-4 space-y-3">
            <div class="flex items-center justify-between text-xs text-neutral-500 uppercase tracking-wider">
              <span>Communities</span>
              <button type="button" class="text-blue-300 hover:text-blue-200 transition" data-action="create-community">New</button>
            </div>
            <ul class="space-y-2 text-sm text-neutral-300" data-communities>
              <li class="flex items-center justify-between px-3 py-2 rounded-bubble border border-transparent hover:border-neutral-800 hover:bg-neutral-900/60 transition">
                Midnight Makers
                <span class="text-xs text-neutral-500">512</span>
              </li>
              <li class="flex items-center justify-between px-3 py-2 rounded-bubble border border-transparent hover:border-neutral-800 hover:bg-neutral-900/60 transition">
                Cinephile Circle
                <span class="text-xs text-neutral-500">287</span>
              </li>
              <li class="flex items-center justify-between px-3 py-2 rounded-bubble border border-transparent hover:border-neutral-800 hover:bg-neutral-900/60 transition">
                Alt Fashion Lab
                <span class="text-xs text-neutral-500">198</span>
              </li>
            </ul>
          </section>
        </aside>

        <!-- Right Rail Surge -->
        <aside class="order-3 space-y-4" data-column="right-rail">
          <section class="bubble-surface p-4 space-y-4">
            <div class="flex items-center justify-between">
              <div>
                <h2 class="text-sm font-semibold text-neutral-100">The Surge</h2>
                <p class="text-xs text-neutral-500">Trending now across Spill</p>
              </div>
              <button type="button" class="px-3 py-1 rounded-pill border border-neutral-800 text-xs font-medium text-neutral-400 hover:text-neutral-100 hover:bg-neutral-900 transition" data-action="refresh-surge">
                Refresh
              </button>
            </div>
            <div class="space-y-3" data-surge></div>
          </section>
          <section class="bubble-surface p-4 space-y-3">
            <h3 class="text-xs font-semibold uppercase tracking-wider text-neutral-400">Creator spotlight</h3>
            <div class="flex items-center gap-3">
              <img src="https://images.unsplash.com/photo-1504593811423-6dd665756598?auto=format&fit=crop&w=120&h=120&q=80" alt="Spotlight creator" class="w-12 h-12 rounded-full object-cover border border-neutral-800" />
              <div>
                <p class="text-sm font-semibold text-neutral-100">Nyah Bloom</p>
                <p class="text-xs text-neutral-500">Visual storyteller ‚Ä¢ #solarpunk</p>
              </div>
            </div>
            <button type="button" class="w-full px-4 py-2 rounded-pill border border-neutral-800 text-sm font-medium text-neutral-300 hover:text-neutral-100 hover:bg-neutral-900 transition" data-action="follow-spotlight">
              Follow
            </button>
          </section>
        </aside>
      </div>
    </div>
  </div>

  <!-- Composer Modal -->
  <div class="fixed inset-0 z-50 hidden opacity-0" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="composer-modal-title" data-modal="composer">
    <div class="absolute inset-0 bg-neutral-950/70 backdrop-blur-md" data-modal-overlay></div>
    <div class="relative mx-auto mt-20 w-11/12 max-w-2xl">
      <div class="bubble-surface p-6 md:p-8 space-y-6">
        <header class="flex items-start justify-between gap-4">
          <div>
            <h2 id="composer-modal-title" class="text-xl font-semibold text-neutral-100">Craft a new Spill</h2>
            <p class="text-sm text-neutral-500">Share a mood, drop a link, or refill a lit.</p>
          </div>
          <button type="button" class="px-3 py-1.5 rounded-pill border border-neutral-800 text-neutral-400 hover:text-neutral-100 hover:bg-neutral-900 transition" data-action="close-composer">
            Close
          </button>
        </header>
        <div class="flex items-start gap-4">
          <img src="https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?auto=format&fit=crop&w=160&h=160&q=80" alt="User avatar" class="w-12 h-12 rounded-full object-cover border border-neutral-800" />
          <div class="flex-1 space-y-4">
            <textarea rows="6" class="w-full bg-neutral-900/70 border border-neutral-800 rounded-bubble px-4 py-3 text-neutral-200 placeholder:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-blue-600/40 focus:border-blue-500/50 transition" placeholder="Let the Spill know what's flowing" data-field="composer-body"></textarea>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
              <div class="h-28 rounded-bubble border border-dashed border-neutral-800/80 bg-neutral-900/50 flex flex-col items-center justify-center text-sm text-neutral-500" data-slot="media-drop">
                <span>Drag &amp; drop media</span>
                <span class="text-xs text-neutral-600">PNG, GIF, MP4</span>
              </div>
              <div class="h-28 rounded-bubble border border-dashed border-neutral-800/80 bg-neutral-900/50 flex flex-col items-center justify-center text-sm text-neutral-500" data-slot="link-preview">
                <span>Attach a link</span>
                <span class="text-xs text-neutral-600">Paste URL to generate preview</span>
              </div>
            </div>
          </div>
        </div>
        <footer class="flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between">
          <div class="flex flex-wrap gap-2 text-xs text-neutral-500">
            <span class="px-2 py-1 rounded-pill bg-neutral-900 border border-neutral-800" data-chip="visibility">Visible to followers</span>
            <span class="px-2 py-1 rounded-pill bg-neutral-900 border border-neutral-800" data-chip="attachments">No attachments yet</span>
          </div>
          <button type="button" class="px-5 py-2 bg-blue-600 hover:bg-blue-500 text-white font-semibold rounded-pill transition" data-action="submit-spill">
            Spill now
          </button>
        </footer>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="bg-neutral-950 border-t border-neutral-800 py-6 text-neutral-400 text-center text-sm">
    <p>&copy; 2024 Spill. All rights reserved.</p>
  </footer>

  <!-- Mock Data & Rendering Scripts -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const mockLits = [
        {
          id: 'lit-01',
          author: 'Amari Rivers',
          handle: '@amarivers',
          avatar: 'https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&w=160&h=160&q=80',
          timestamp: '2h ago',
          content: [
            'Spent the afternoon bending synths until they felt like low tide lights. Pulling together a moody soundboard for the new Spill spaces launch.',
            'Layered analog static with neon chimes so the transitions feel like breathing in a night market. Test listeners are vibing.'
          ],
          tags: ['#sounddesign', '#midnightlab'],
          media: {
            type: 'image',
            src: 'https://images.unsplash.com/photo-1470225620780-dba8ba36b745?auto=format&fit=crop&w=1200&q=80',
            alt: 'Neon lit audio workstation'
          },
          claps: 128,
          refills: 34
        },
        {
          id: 'lit-02',
          author: 'Lena Sato',
          handle: '@lenasato',
          avatar: 'https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?auto=format&fit=crop&w=160&h=160&q=80',
          timestamp: '4h ago',
          content: [
            'Shot a series on abandoned metro tunnels and projected aurora gradients across the walls. The city hums differently when you bring color to the quiet.',
            'Thinking about turning this into an open collab ‚Äì any poets want to layer words on the footage?'
          ],
          tags: ['#citylight', '#collabcall'],
          media: {
            type: 'image',
            src: 'https://images.unsplash.com/photo-1489515217757-5fd1be406fef?auto=format&fit=crop&w=1200&q=80',
            alt: 'Colorful light installation in metro tunnel'
          },
          claps: 201,
          refills: 56
        },
        {
          id: 'lit-03',
          author: 'Noah Hale',
          handle: '@noahhale',
          avatar: 'https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?auto=format&fit=crop&w=160&h=160&q=80',
          timestamp: '6h ago',
          content: [
            'Day 87 of mapping micro coffeeshops across the city. Today\'s feature: a two-seat speakeasy hidden behind a laundromat dryer.',
            'Serving rosewater cortados and vinyl-only playlists. Spill fam meet-up here this weekend?'
          ],
          tags: ['#cafecrawl', '#secretspots'],
          media: null,
          claps: 89,
          refills: 19
        },
        {
          id: 'lit-04',
          author: 'Ibby Flores',
          handle: '@ibbyflores',
          avatar: 'https://images.unsplash.com/photo-1544723795-3fb6469f5b39?auto=format&fit=crop&w=160&h=160&q=80',
          timestamp: '8h ago',
          content: [
            'Splicing together archival protest chants with new verses from underground MCs. The track drops tomorrow on Spill Sessions.',
            'If you\'ve got a megaphone in your voice, send me a 16.'
          ],
          tags: ['#spillSessions', '#resonance'],
          media: {
            type: 'image',
            src: 'https://images.unsplash.com/photo-1485579149621-3123dd979885?auto=format&fit=crop&w=1200&q=80',
            alt: 'Underground performer with microphone'
          },
          claps: 342,
          refills: 112
        },
        {
          id: 'lit-05',
          author: 'Maya √âtoile',
          handle: '@mayaetoile',
          avatar: 'https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&w=160&h=160&q=80',
          timestamp: 'Yesterday',
          content: [
            'Dropped a new pack of monochrome gradients for Spill designers. Inspired by foggy dawns and late-night subway sparks.',
            'Free to use ‚Äì just tag me so I can see what you build.'
          ],
          tags: ['#designpack', '#gradientdrop'],
          media: {
            type: 'image',
            src: 'https://images.unsplash.com/photo-1545239351-1141bd82e8a6?auto=format&fit=crop&w=1200&q=80',
            alt: 'Abstract monochrome gradients'
          },
          claps: 512,
          refills: 204
        }
      ];

      const surgeItems = [
        {
          id: 'surge-01',
          title: 'Solstice Beats Premiere',
          description: 'Live mix from rooftop collectives warming up the longest night of the year.',
          metric: '2.1k lits ‚Ä¢ 18k claps',
          delta: '+18%',
          momentum: 'Rising fast'
        },
        {
          id: 'surge-02',
          title: 'Analog Film Revival',
          description: 'Spillers swap tips on keeping old-school cameras alive and thriving.',
          metric: '1.4k lits ‚Ä¢ 9.2k claps',
          delta: '+26%',
          momentum: 'Trending'
        },
        {
          id: 'surge-03',
          title: 'Night Market Recipes',
          description: 'Chefs spilling late-night snacks with neon palettes and smoky finishes.',
          metric: '3.7k lits ‚Ä¢ 22k claps',
          delta: '+12%',
          momentum: 'Glowing'
        },
        {
          id: 'surge-04',
          title: 'Quiet Protest Playlists',
          description: 'Curated soundtracks for when you need to move softly but stand tall.',
          metric: '980 lits ‚Ä¢ 6.4k claps',
          delta: '+34%',
          momentum: 'Surging'
        }
      ];

      const feedEl = document.querySelector('[data-feed]');
      const surgeEl = document.querySelector('[data-surge]');

      const formatCount = (value) => {
        if (typeof value === 'number') {
          return value.toLocaleString('en-US');
        }
        return value;
      };

      if (feedEl) {
        const litMarkup = mockLits
          .map((lit) => {
            const paragraphs = Array.isArray(lit.content)
              ? lit.content.map((paragraph) => `<p class="text-neutral-300 leading-relaxed">${paragraph}</p>`).join('')
              : `<p class="text-neutral-300 leading-relaxed">${lit.content}</p>`;

            const tags = Array.isArray(lit.tags) && lit.tags.length
              ? `<div class="flex flex-wrap gap-2">${lit.tags
                .map((tag) => `<span class="px-3 py-1 rounded-pill border border-neutral-800 text-xs font-medium tracking-wide text-neutral-400">${tag}</span>`)
                .join('')}</div>`
              : '';

            const media = lit.media && lit.media.type === 'image'
              ? `<div class="overflow-hidden rounded-bubble border border-neutral-800/70 bg-neutral-900/70" data-media-type="image">
                  <img src="${lit.media.src}" alt="${lit.media.alt}" class="w-full h-56 object-cover" />
                </div>`
              : '';

            return `
              <article class="bubble-surface p-5 md:p-6 space-y-4 transition-all duration-300 hover:shadow-bubble-hover focus-within:shadow-bubble-hover" data-lit-id="${lit.id}" data-author="${lit.handle}">
                <div class="flex items-start gap-4">
                  <img src="${lit.avatar}" alt="${lit.author} avatar" class="w-12 h-12 rounded-full object-cover border border-neutral-800" />
                  <div class="flex-1 space-y-4">
                    <header class="flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between">
                      <div class="flex flex-wrap items-center gap-2">
                        <span class="text-neutral-100 font-semibold">${lit.author}</span>
                        <span class="text-sm text-neutral-500">${lit.handle}</span>
                        <span class="hidden sm:inline-flex w-1 h-1 rounded-full bg-neutral-700"></span>
                        <span class="text-xs text-neutral-500">${lit.timestamp}</span>
                      </div>
                      <button type="button" class="px-3 py-1 text-xs rounded-pill border border-neutral-800 text-neutral-400 hover:text-neutral-100 hover:bg-neutral-900 transition" data-action="subscribe-author">
                        Follow
                      </button>
                    </header>
                    <div class="space-y-3 text-sm md:text-base">
                      ${paragraphs}
                    </div>
                    ${media}
                    ${tags}
                    <div class="flex flex-wrap items-center gap-3 pt-4 border-t border-neutral-800/70" data-actions>
                      <button type="button" class="flex items-center gap-2 px-3 py-2 rounded-pill text-sm text-neutral-400 hover:text-neutral-100 hover:bg-neutral-900 transition" data-action="clap" aria-label="Clap for ${lit.author}" data-count="${lit.claps}">
                        <span class="text-lg leading-none">üëè</span>
                        <span>${formatCount(lit.claps)}</span>
                      </button>
                      <button type="button" class="flex items-center gap-2 px-3 py-2 rounded-pill text-sm text-neutral-400 hover:text-neutral-100 hover:bg-neutral-900 transition" data-action="refill" aria-label="Refill ${lit.author}'s lit" data-count="${lit.refills}">
                        <span class="text-lg leading-none">üîÅ</span>
                        <span>${formatCount(lit.refills)}</span>
                      </button>
                      <button type="button" class="flex items-center gap-2 px-3 py-2 rounded-pill text-sm text-neutral-400 hover:text-neutral-100 hover:bg-neutral-900 transition" data-action="thread" aria-label="Open thread with ${lit.author}">
                        <span class="text-lg leading-none">üí¨</span>
                        <span>Thread</span>
                      </button>
                    </div>
                  </div>
                </div>
              </article>
            `;
          })
          .join('');

        feedEl.innerHTML = litMarkup;
      }

      if (surgeEl) {
        const surgeMarkup = surgeItems
          .map((item, index) => `
            <article class="bubble-surface p-4 space-y-3 transition-all duration-300 hover:shadow-bubble-hover" data-surge-id="${item.id}">
              <div class="flex items-start justify-between gap-3">
                <div>
                  <div class="flex items-center gap-2 text-[10px] uppercase tracking-[0.35em] text-blue-300">
                    <span>${String(index + 1).padStart(2, '0')}</span>
                    <span>Surge</span>
                  </div>
                  <h3 class="mt-2 text-sm font-semibold text-neutral-100">${item.title}</h3>
                  <p class="mt-1 text-xs text-neutral-500 leading-relaxed">${item.description}</p>
                </div>
                <span class="px-2 py-1 rounded-pill bg-neutral-900 border border-neutral-800 text-[10px] font-medium text-neutral-400 uppercase tracking-wide">${item.momentum}</span>
              </div>
              <div class="flex items-center justify-between text-xs text-neutral-500">
                <span>${item.metric}</span>
                <span class="text-green-400">${item.delta}</span>
              </div>
            </article>
          `)
          .join('');

        surgeEl.innerHTML = surgeMarkup;
      }
    });
  </script>

  <!-- Layout & Animation Scripts -->
  <script src="./assets/js/layout.js"></script>
  <script src="./assets/js/app.js"></script>
</body>
</html>
